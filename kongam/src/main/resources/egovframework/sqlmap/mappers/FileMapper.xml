<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="egovframework.example.homepage.mapper.FileMapper">

    <resultMap type="hashmap" id="fileMap">
    	<result column="files_idx" property="fileIdx"/>
    	<result column="board_idx" property="boardIdx"/>
    	<result column="file_name" property="fileName" jdbcType="VARCHAR" javaType="java.lang.String"/>
    	<result column="org_file_name" property="orgFileName" jdbcType="VARCHAR" javaType="java.lang.String"/>
    	<result column="file_path" property="filePath" jdbcType="VARCHAR" javaType="java.lang.String"/>
    </resultMap>
    
    <insert id="fileSave" parameterType="hashmap">
        insert into board_files (board_idx, file_name, org_file_name, file_path)
        values ( #{boardIdx}, #{uuidFileName}, #{fileName}, #{filePath} )
    </insert>
    
    <select id="getFileList" parameterType="Long" resultMap="fileMap">
    	select * from board_files where board_idx = #{boardIdx}
    </select>
    
    <select id="getFiles" parameterType="Long" resultMap="fileMap">
    	select * from board_files where files_idx = #{filesIdx}
    </select>
    
    <delete id="fileDelete" parameterType="Long">
    	delete from board_files where files_idx = #{fileIdx}
    </delete>
</mapper>